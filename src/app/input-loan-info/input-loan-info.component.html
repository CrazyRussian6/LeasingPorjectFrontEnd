<div class='container container_margins'>
        <div class="form-header">Loan info</div>
        <div class="inner-container">
        <form [formGroup]="loanForm" (ngSubmit)="send()">
                <div class="form-group">
                        <label for="customerType">Customer Type</label>
                                <select class="form-control" id="customerType" (input) ="userTypeChange($event.target.value)" formControlName="customerType">
                                        <option disabled value="null" selected>Please Choose Customer Type</option>
                                        <option name="Private">Private</option>
                                        <option name="Business">Business</option>
                                </select>
                                <small *ngIf="customerType.invalid && customerType.dirty" class="form-text text-danger">Customer type is required</small>
                        </div>


                        <div class="form-group">
                                <label for="assetType">Asset Type</label>
                                <select class="form-control" id="assetType" formControlName="assetType">
                                        <option disabled value="null" selected>Please Choose Asset Type</option>
                                        <option value="vehicle" selected>Vehicle</option>
                                </select>
                                <small *ngIf="assetType.invalid && assetType.dirty" class="form-text text-danger">Asset type is invalid.</small>
                        </div>

                       <div class="form-group">
                                <label for="carBrand">Car brand</label>
                                <select class="form-control" id="carBrand" formControlName="carBrand" (change)="findModels()">
                                        <option disabled value="null" selected>Please Choose Car Brand</option>
                                        <option *ngFor="let selectedBrand of brands" [value]="selectedBrand">{{selectedBrand}}</option>
                                </select>
                                <small *ngIf="carBrand.invalid && carBrand.dirty" class="form-text text-danger">Please select car brand.</small>
                        </div>

                        <div class="form-group">
                                <label for="carModel">Car Model</label>
                                <select class="form-control" id="carModel" formControlName="carModel">
                                        <option disabled value="null" selected>Please Choose Car Model</option>
                                        <option *ngFor="let selectedModels of models" [value]="selectedModels">{{selectedModels}}</option>
                                </select>
                        </div>
                        <div class="form-group">
                                <label for="year">Year</label>


                                        <input type="text" class="form-control" id="year" name="year" formControlName="year">
                                        <small *ngIf="year.invalid && year.dirty" class="form-text text-danger">Please enter valid year (starting from 2000).</small>

                        </div>
                        <div class="form-group">
                                <label for="enginePower">Engine power (kW)</label>

                                        <input type="text" class="form-control" id="enginePower" name="enginePower" formControlName="enginePower">
                                        <small *ngIf="enginePower.invalid && enginePower.dirty" class="form-text text-danger">Engine power is invalid.</small>

                        </div>
                        <div class="form-group">
                                <label for="assetPrice" >Asset price</label>

                                        <input type="text" class="form-control" id="assetPrice" name="assetPrice" formControlName="assetPrice">
                                        <small *ngIf="assetPrice.invalid&&assetPrice.dirty" class="form-text text-danger">Asset price is invalid.</small>

                        </div>
                        <div class="form-group">
                                <label for="paymentPercentage" >Advanced payment percentage</label>

                                        <input type="text" class="form-control" id="paymentPercentage" name="paymentPercentage" formControlName="paymentPercentage">
                                        <small *ngIf="paymentPercentage.invalid && paymentPercentage.dirty" class="form-text text-danger">Advanced payment percentage is invalid. Minimum 10 percent</small>

                        </div>
                        <div class="form-group form-inline period">
                                <label for="leasePeriod" >Lease period</label>
                                <input type="number" step = "6" min = "6" max = "84" class="form-control" id="leasePeriod" name="leasePeriod" formControlName="leasePeriod" onkeydown="return false">
                               </div>
                        <div class="form-group">
                                <label for="margin" >Margin</label>
                                        <input type="text" class="form-control" id="margin" name="margin" formControlName="margin">
                                        <small *ngIf="margin.invalid&&margin.dirty" class = "form-text text-danger">Margin is invalid. Minimum 3.2 percent </small>
                        </div>
                        <div class="form-group">
                                <label for="paymentDay" >Payment day</label>
                                        <select class="form-control" id="paymentDay" formControlName="paymentDay">
                                                <option disabled value="null" selected>Please Choose Payment Day</option>
                                                <option name="paymentDay">15</option>
                                                <option name="paymentDay">30</option>
                                        </select>
                                        <small *ngIf="paymentDay.invalid && paymentDay.dirty" class="form-text text-danger">Payment day is invalid.</small>
                        </div>
                        <h5 *ngIf="assetPrice.valid&&paymentPercentage.valid">Calculated advanced payment amount: <span class="calculated">{{calculateAdvancedPaymentAmount()}}</span></h5>
                        <h5>Contract fee: <span class="calculated">{{calculateContractFee()}}</span></h5>

                        <div class="form-footer">
                                <div class="row">
                           <button class="btn btn-outline-warning form-buttons  btn-margin" (click) = "this.reset()" type = "button" data-toggle="modal" data-target="#exampleModal" >Reset</button>
                           <button class="btn btn-warning form-buttons btn-margin" [disabled]="!this.loanForm.valid" type="submit"  >Next</button>
                          
                        </div>
                        </div>
                </form>
        </div>

</div>
